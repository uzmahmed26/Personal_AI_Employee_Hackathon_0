---
name: obsidian-manager
description: Use this skill for any Obsidian vault task. Trigger phrases: "create note in Obsidian", "update Obsidian", "add to vault", "Obsidian task", "create plan note", "update Kanban", "refresh dashboard", "Obsidian template", "open in Obsidian", "vault note".
version: 1.0.0
---

# Obsidian Manager Skill

Manages the Obsidian vault for the Personal AI Employee system. Creates notes, updates the Kanban board, refreshes dashboards, and keeps the vault in sync with the task pipeline.

## Vault Structure

```
Hack00/  ← This IS the Obsidian vault root
├── Home.md              ← Live Dataview dashboard (open this first)
├── Dashboard.md         ← Static dashboard (auto-generated by Python)
├── Kanban.md            ← Visual Kanban board (requires Kanban plugin)
├── Templates/           ← Obsidian templates
│   ├── Task_Template.md
│   ├── Plan_Template.md
│   ├── Approval_Template.md
│   └── CEO_Briefing_Template.md
├── 01_Incoming_Tasks/   ← New tasks (yellow in Graph)
├── 02_In_Progress_Tasks/← Active tasks (blue in Graph)
├── 03_Completed_Tasks/  ← Done tasks (green in Graph)
├── Pending_Approval/    ← Awaiting human approval (orange in Graph)
├── Plans/               ← Task execution plans
├── Decision_Ledger/     ← Audit trail
├── Memory/              ← AI learning memory
└── Reports/             ← CEO briefings and weekly reports
```

## Required Obsidian Plugins

Install these from Obsidian Settings → Community Plugins:

| Plugin | Purpose |
|--------|---------|
| **Dataview** | Live queries in Home.md |
| **Kanban** | Visual task board in Kanban.md |
| **Templater** | Smart templates with date/time |
| **Calendar** | Date-based task view |
| **Tasks** | Checkbox task tracking |

## Procedures

### 1. Create a Task Note

Use the Obsidian template:
- Open Command Palette (`Ctrl+P`)
- Type "Templates: Insert Template"
- Select `Task_Template`
- Save to `01_Incoming_Tasks/`

Or via CLI:
```bash
python run_task_skill.py create -t <type> -d "<description>" -p <priority>
```

### 2. Create a Plan Note

```bash
python plan_generator.py --task-id <task_id>
```

Or use `Plan_Template` in Obsidian → save to `Plans/`.

### 3. Update Kanban Board

When tasks move between stages, update `Kanban.md`:
- Move card from `Incoming` column → `In Progress` column
- Move card to `Pending Approval` when approval needed
- Move card to `Completed` when done

The Kanban plugin reads/writes this file directly in Obsidian UI.

To sync Kanban with actual file system:
```bash
python dashboard_updater.py
```

### 4. Refresh Dashboard

**Static Dashboard (Dashboard.md):**
```bash
python dashboard_updater.py
```

**Live Dashboard (Home.md):**
- Just open `Home.md` in Obsidian — Dataview queries run automatically

### 5. Create Approval Note

Use `Approval_Template` in Obsidian → save to `Pending_Approval/`.

Or via task skill:
```bash
python run_task_skill.py create -t approval_required -d "<what needs approval>" -p high --approval
```

### 6. Generate CEO Briefing

```bash
python weekly_ceo_report.py
```

Output saved to `Reports/` — use `CEO_Briefing_Template` as reference.

### 7. Open the Vault

1. Open Obsidian
2. Click "Open folder as vault"
3. Select: `C:\Users\laptop world\Desktop\Hack00`
4. Install community plugins (see list above)
5. Open `Home.md` as your start page

## Graph View Color Coding

The `.obsidian/graph.json` is pre-configured:

| Color | Meaning |
|-------|---------|
| Yellow | Incoming tasks |
| Blue | In Progress tasks |
| Green | Completed tasks |
| Orange | Pending Approval |
| Red | Failed tasks |
| Purple | Plans |

## Wikilinks Used Across the Vault

All markdown files use `[[Wikilinks]]` for navigation:
- `[[Home]]` → Live dashboard
- `[[Kanban]]` → Visual board
- `[[Dashboard]]` → Static dashboard
- `[[Company_Handbook]]` → Business handbook
- `[[Business_Goals]]` → OKRs and goals

## Dataview Query Examples

Use these in any Obsidian note:

**All high-priority incoming tasks:**
```dataview
LIST
FROM "01_Incoming_Tasks"
WHERE priority = "high"
```

**Tasks by type:**
```dataview
TABLE type, priority, created
FROM "01_Incoming_Tasks" OR "02_In_Progress_Tasks"
GROUP BY type
```

**Overdue approvals (older than 1 day):**
```dataview
TABLE created, priority
FROM "Pending_Approval"
WHERE date(created) < date(today) - dur(1 day)
SORT created ASC
```

## Security Rules

- Never store API keys or tokens in vault notes
- All `.env` values stay in `.env` only
- Approval notes must go through `python approve.py` or be moved to `Approved/`
- Decision Ledger entries are append-only — never edit existing entries
